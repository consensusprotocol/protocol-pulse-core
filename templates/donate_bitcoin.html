{% extends "base.html" %}

{% block title %}Donate Bitcoin | Protocol Pulse{% endblock %}

{% block head %}
<style>
:root {
    --btc-orange: #f7931a;
    --pp-dark: #0a0a0a;
}

.donate-btc-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a0800 100%);
    padding: 100px 20px 60px;
}

.donate-container {
    max-width: 700px;
    margin: 0 auto;
}

.donate-header {
    text-align: center;
    margin-bottom: 40px;
}

.donate-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 2rem;
    color: #fff;
    margin-bottom: 15px;
}

.donate-title i {
    color: var(--btc-orange);
    margin-right: 15px;
}

.donate-subtitle {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.6);
    line-height: 1.6;
}

.payment-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

@media (max-width: 600px) {
    .payment-options {
        grid-template-columns: 1fr;
    }
}

.payment-card {
    background: rgba(10, 10, 10, 0.95);
    border: 2px solid rgba(247, 147, 26, 0.3);
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.payment-card:hover, .payment-card.selected {
    border-color: var(--btc-orange);
    background: rgba(247, 147, 26, 0.1);
}

.payment-icon {
    width: 60px;
    height: 60px;
    background: rgba(247, 147, 26, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
}

.payment-icon i {
    font-size: 1.5rem;
    color: var(--btc-orange);
}

.payment-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.1rem;
    color: #fff;
    margin-bottom: 8px;
}

.payment-desc {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.5);
}

.donation-form {
    background: rgba(10, 10, 10, 0.95);
    border: 1px solid rgba(247, 147, 26, 0.3);
    border-radius: 20px;
    padding: 35px;
}

.form-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1rem;
    color: var(--btc-orange);
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.sats-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.sats-btn {
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    color: #fff;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.sats-btn:hover, .sats-btn.selected {
    border-color: var(--btc-orange);
    background: rgba(247, 147, 26, 0.1);
    color: var(--btc-orange);
}

.sats-label {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.5);
    display: block;
    margin-top: 5px;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 8px;
}

.form-input {
    width: 100%;
    padding: 14px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    color: #fff;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
}

.form-input:focus {
    outline: none;
    border-color: var(--btc-orange);
}

.lightning-address-display {
    background: rgba(247, 147, 26, 0.1);
    border: 1px dashed var(--btc-orange);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    margin-top: 20px;
}

.address-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
}

.lightning-address {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.1rem;
    color: var(--btc-orange);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.lightning-address:hover {
    color: #ffc107;
}

.copy-feedback {
    font-size: 0.8rem;
    color: #22c55e;
    margin-top: 10px;
    display: none;
}

.qr-section {
    margin-top: 30px;
    text-align: center;
}

.qr-placeholder {
    width: 200px;
    height: 200px;
    background: #fff;
    border-radius: 12px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #333;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
}

.back-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: rgba(255, 255, 255, 0.6);
    text-decoration: none;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    margin-bottom: 20px;
}

.back-link:hover {
    color: var(--btc-orange);
}
</style>
{% endblock %}

{% block content %}
<div class="donate-btc-page">
    <div class="donate-container">
        <a href="/donate" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Donate
        </a>
        
        <div class="donate-header">
            <h1 class="donate-title"><i class="fab fa-bitcoin"></i>Donate Bitcoin</h1>
            <p class="donate-subtitle">Support sovereign journalism with sound money. Every sat helps us maintain independence.</p>
        </div>
        
        <div class="payment-options">
            <div class="payment-card selected" data-method="lightning">
                <div class="payment-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="payment-title">Lightning</div>
                <div class="payment-desc">Instant, low-fee payments</div>
            </div>
            
            <div class="payment-card" data-method="onchain">
                <div class="payment-icon">
                    <i class="fab fa-bitcoin"></i>
                </div>
                <div class="payment-title">On-chain</div>
                <div class="payment-desc">Traditional Bitcoin tx</div>
            </div>
        </div>
        
        <div class="donation-form">
            <div class="form-title"><i class="fas fa-bolt"></i> Lightning Donation</div>
            
            <div class="sats-buttons">
                <button class="sats-btn" data-sats="2100">
                    2,100
                    <span class="sats-label">sats</span>
                </button>
                <button class="sats-btn selected" data-sats="21000">
                    21,000
                    <span class="sats-label">sats</span>
                </button>
                <button class="sats-btn" data-sats="100000">
                    100k
                    <span class="sats-label">sats</span>
                </button>
                <button class="sats-btn" data-sats="1000000">
                    1M
                    <span class="sats-label">sats</span>
                </button>
            </div>
            
            <div class="form-group">
                <label class="form-label">Custom Amount (sats)</label>
                <input type="number" class="form-input" id="custom-sats" placeholder="Enter amount in sats">
            </div>
            
            <div class="form-group">
                <label class="form-label">Your Message (optional)</label>
                <input type="text" class="form-input" id="donor-message" placeholder="Thanks for the great content!">
            </div>
            
            <div class="lightning-address-display">
                <div class="address-label">Send to our Lightning Address</div>
                <div class="lightning-address" onclick="copyAddress()">
                    <i class="fas fa-bolt"></i>
                    protocolpulse@getalby.com
                    <i class="fas fa-copy"></i>
                </div>
                <div class="copy-feedback" id="copy-feedback">Copied to clipboard!</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.querySelectorAll('.payment-card').forEach(card => {
    card.addEventListener('click', function() {
        document.querySelectorAll('.payment-card').forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
    });
});

document.querySelectorAll('.sats-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.sats-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
        document.getElementById('custom-sats').value = '';
    });
});

function copyAddress() {
    navigator.clipboard.writeText('protocolpulse@getalby.com');
    const feedback = document.getElementById('copy-feedback');
    feedback.style.display = 'block';
    setTimeout(() => { feedback.style.display = 'none'; }, 2000);
}
</script>
{% endblock %}
